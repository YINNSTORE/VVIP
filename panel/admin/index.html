<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Yinn Panel Admin</title>
  <link rel="stylesheet" href="app.css" />
</head>
<body>
  <div class="wrap">

    <div class="topbar">
      <div class="brand">
        <span class="dot"></span>
        <div>
          <h1>Yinn Panel Admin</h1>
          <p>Provisioning via Autoscript API</p>
        </div>
      </div>

      <div class="right">
        <div class="pill">
          <span id="apiLed" class="led led-warn"></span>
          <span id="apiText">API: CHECK...</span>
        </div>
        <button id="btnLogout" class="btn ghost">Logout</button>
      </div>
    </div>

    <div class="grid">

      <!-- LOGIN -->
      <div id="loginCard" class="card">
        <h2>Login</h2>
        <div class="muted">Masukkan token panel untuk akses Admin.</div>

        <div style="height:10px"></div>

        <div class="row">
          <input id="tokenInput" class="input" placeholder="Panel Token" autocomplete="off" />
          <div class="muted">Token disimpan lokal (localStorage). Logout untuk hapus.</div>

          <div class="actions">
            <button id="btnLogin" class="btn primary">Validate & Login</button>
            <button id="btnClearToken" class="btn">Clear</button>
          </div>

          <div id="loginMsg" class="msg"></div>
        </div>
      </div>

      <!-- APP -->
      <div id="appCard" class="card hidden">
        <h2>Create Account</h2>

        <div class="row two">
          <div>
            <div class="muted">Pilih Protokol</div>
            <select id="proto" class="input">
              <option value="ssh">SSH</option>
              <option value="vmess">VMESS</option>
              <option value="vless">VLESS</option>
              <option value="trojan">TROJAN</option>
            </select>
          </div>
          <div>
            <div class="muted">Username</div>
            <input id="username" class="input" placeholder="username" autocomplete="off" />
          </div>
        </div>

        <!-- SSH ONLY (auto hide by app.js for XRAY) -->
        <div id="passRow" class="row">
          <div class="muted">Password (SSH only)</div>
          <input id="password" class="input" placeholder="password (min 1 char)" autocomplete="off" />
        </div>

        <!-- SINGLE IP LIMIT (ALL PROTO) -->
        <div class="row">
          <div class="muted">Limit IP</div>
          <input id="iplimit" class="input" type="number" value="2" min="0" />
        </div>

        <!-- XRAY ONLY (vmess/vless/trojan) -->
        <div id="quotaRow" class="row hidden">
          <div class="muted">Limit Quota (GB)</div>
          <input id="quota_gb" class="input" type="number" value="0" min="0" />
        </div>

        <div class="row two">
          <div>
            <div class="muted">Expired (Days)</div>
            <input id="days" class="input" type="number" value="1" min="1" />
          </div>
          <div class="actions" style="align-items:flex-end;">
            <button id="btnCreate" class="btn primary">Create</button>
            <button id="btnClearForm" class="btn">Clear</button>
          </div>
        </div>

        <div style="height:10px"></div>

        <h2>Output</h2>
        <div class="terminal-wrap">
          <div class="term-head">
            <div class="term-title">
              <div class="term-dots"><span></span><span></span><span></span></div>
              <span>terminal</span>
            </div>

            <div class="term-actions">
              <button id="btnToggleRaw" class="btn">Raw</button>
              <button id="btnCopyOut" class="btn">Copy</button>
              <span id="outMeta" class="muted">â€”</span>
            </div>
          </div>

          <div id="terminal"></div>
        </div>
      </div>

    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>